package com.awarematics.postmedia.test;

import java.io.IOException;

import com.awarematics.postmedia.algorithms.similarity.MHausdorff;
import com.awarematics.postmedia.io.MWKTReader;
import com.awarematics.postmedia.mgeom.MGeometryFactory;
import com.awarematics.postmedia.operation.SpatialTemporalOP;
import com.awarematics.postmedia.operation.TemporalOP;
import com.awarematics.postmedia.transform.ColumnsProjection;
import com.awarematics.postmedia.types.mediamodel.MPoint;
import com.awarematics.postmedia.types.mediamodel.MVideo;

import org.locationtech.jts.geom.GeometryFactory;
import org.locationtech.jts.geom.Polygon;
import org.locationtech.jts.io.ParseException;
import org.locationtech.jts.io.WKTReader;

public class MvideoTest {


	static MHausdorff mh;
	public static void main(String[] args) throws IOException, ParseException, java.text.ParseException
	{		
		MGeometryFactory geometryFactory = new MGeometryFactory();
		MWKTReader reader = new MWKTReader(geometryFactory);
		GeometryFactory geometryactory = new GeometryFactory();
		WKTReader readers = new WKTReader(geometryactory);
		String s="MVIDEO (http://data.u-gis.net/0000f77c-62c2a288.mp4, MPOINT ((-73.8310543914082 40.6775779277465 NaN) 1503828255000, (-73.831088170478 40.6774585275358 NaN) 1503828256000, (-73.8311231230142 40.6773299072317 NaN) 1503828257000, (-73.831156902084 40.6771981856233 NaN) 1503828258000, (-73.8311784435751 40.6770616863302 NaN) 1503828259000, (-73.8311884180399 40.6769282464317 NaN) 1503828260000, (-73.8311938662769 40.6768062059215 NaN) 1503828261000, (-73.8312024996372 40.6767075509212 NaN) 1503828262000, (-73.8312132284733 40.6766346702731 NaN) 1503828263000, (-73.8312247954997 40.6765768351412 NaN) 1503828264000, (-73.8312372845354 40.6765227718658 NaN) 1503828265000, (-73.8312546350749 40.6764565967402 NaN) 1503828266000, (-73.8312805351557 40.676376717203 NaN) 1503828267000, (-73.8313195948245 40.6762848515442 NaN) 1503828268000, (-73.831373825738 40.67618393343 NaN) 1503828269000, (-73.8314400427731 40.6760758068791 NaN) 1503828270000, (-73.8315165695491 40.6759702787182 NaN) 1503828271000, (-73.8315992151143 40.6758701149753 NaN) 1503828272000, (-73.8316920866015 40.675779506602 NaN) 1503828273000, (-73.8317857124599 40.6757038599259 NaN) 1503828274000, (-73.8318665978255 40.6756510539359 NaN) 1503828275000, (-73.8319164701494 40.6756235612935 NaN) 1503828276000, (-73.8319401909353 40.675610359796 NaN) 1503828277000, (-73.8319627382549 40.6755987927696 NaN) 1503828278000, (-73.832005485961 40.6755787181115 NaN) 1503828279000, (-73.8320690207871 40.6755518960214 NaN) 1503828280000, (-73.8321510796191 40.6755173625803 NaN) 1503828281000, (-73.832251075724 40.675476877988 NaN) 1503828282000, (-73.8323619683029 40.6754317414394 NaN) 1503828283000, (-73.8324794825854 40.6753836712247 NaN) 1503828284000, (-73.8326047082188 40.6753343018151 NaN) 1503828285000, (-73.8327368908318 40.6752801547206 NaN) 1503828286000, (-73.8328760304245 40.6752199726558 NaN) 1503828287000, (-73.8330185227784 40.6751535460732 NaN) 1503828288000, (-73.8331595902088 40.6750807911536 NaN) 1503828289000, (-73.8332880847844 40.6749968044839 NaN) 1503828290000, (-73.8333986420872 40.6749011250592 NaN) 1503828291000, (-73.8334934414121 40.6747988239309 NaN) 1503828292000, (-73.8335713931116 40.6746977800882 NaN) 1503828293000, (-73.833630569348 40.6746057467914 NaN) 1503828294000, (-73.8336720597687 40.6745297229296 NaN) 1503828295000), FRAME ((60 NAN -15.7965415082581 NAN 0.001), (60 NAN -15.7965415082581 NAN 0.001), (60 NAN -15.2029756236628 NAN 0.001), (60 NAN -14.3831489418334 NAN 0.001), (60 NAN -8.96810980138481 NAN 0.001), (60 NAN -4.27483766048458 NAN 0.001), (60 NAN -2.55615007857828 NAN 0.001), (60 NAN -5.00124846745347 NAN 0.001), (60 NAN -8.37442272655224 NAN 0.001), (60 NAN -11.3099324740202 NAN 0.001), (60 NAN -13.0075913794468 NAN 0.001), (60 NAN -14.6917535023991 NAN 0.001), (60 NAN -17.9647288664318 NAN 0.001), (60 NAN -23.0343472736348 NAN 0.001), (60 NAN -28.2524911596275 NAN 0.001), (60 NAN -31.4834318912087 NAN 0.001), (60 NAN -35.9488229872934 NAN 0.001), (60 NAN -39.5261971913732 NAN 0.001), (60 NAN -45.7066731852593 NAN 0.001), (60 NAN -51.062906016395 NAN 0.001), (60 NAN -56.8614993533164 NAN 0.001), (60 NAN -61.1337873490647 NAN 0.001), (60 NAN -60.9024391092167 NAN 0.001), (60 NAN -62.841670535395 NAN 0.001), (60 NAN -64.8448818354618 NAN 0.001), (60 NAN -67.1122995893086 NAN 0.001), (60 NAN -67.1768122382812 NAN 0.001), (60 NAN -67.9588606175673 NAN 0.001), (60 NAN -67.8522278910449 NAN 0.001), (60 NAN -67.7525676491019 NAN 0.001), (60 NAN -68.4834769863187 NAN 0.001), (60 NAN -67.7241021539018 NAN 0.001), (60 NAN -66.6100637582207 NAN 0.001), (60 NAN -65.0061743117451 NAN 0.001), (60 NAN -62.7177741133557 NAN 0.001), (60 NAN -56.8305522162192 NAN 0.001), (60 NAN -49.1261587766475 NAN 0.001), (60 NAN -42.8203281964359 NAN 0.001), (60 NAN -37.648897615989 NAN 0.001), (60 NAN -32.740500669544 NAN 0.001), (60 NAN -28.6237358948571 NAN 0.001)))";
	String smp ="MPOINT ((1510 1210) 1556811344, (1320 1220) 1556821345, (1405 1175) 1557711347, (1461 1037) 1556822345)";
		String smv = "MPOINT ((1510 1210) 1556811344, (1320 1220) 1556821345, (1405 1175) 1557711347, (1461 1037) 1556822345)";
		MPoint mp = (MPoint)reader.read("MPOINT ((13.43593 52.41721) 1180309182881, (13.43605 52.41723) 1180309184881, (13.43628 52.41727) 1180309186881, (13.43652 52.4173) 1180309188881, (13.43676 52.41734) 1180309190881, (13.437 52.41737) 1180309192881, (13.43719 52.41741) 1180309194881, (13.43739 52.41744) 1180309196881, (13.43762 52.41747) 1180309198881, (13.43786 52.41751) 1180309200881, (13.43809 52.41755) 1180309202831, (13.43809 52.41762) 1180309204831, (13.43807 52.41784) 1180309206831, (13.438 52.41809) 1180309208831, (13.438 52.41833) 1180309210831, (13.438 52.41855) 1180309212831, (13.438 52.4188) 1180309214831, (13.438 52.41905) 1180309216831, (13.43794 52.4193) 1180309218831, (13.43792 52.41955) 1180309220831, (13.4379 52.4198) 1180309222831, (13.43788 52.42) 1180309224831, (13.43786 52.4202) 1180309226831, (13.43785 52.42036) 1180309228831, (13.43783 52.4206) 1180309230831, (13.43781 52.42085) 1180309232831, (13.43778 52.4211) 1180309234831, (13.43776 52.42135) 1180309236831, (13.43774 52.4216) 1180309238831, (13.43772 52.42182) 1180309240640)");
		MVideo mv = (MVideo)reader.read("MVIDEO (uri, MPOINT ((0.0 0.0) 1481480632123, (2.0 5.0) 1481480635123, (34.0 333.0) 1481480638000), FRAME ((1 1 1 1 1), (1 1 1 1 2), (1 1 1 1 3)))");
		// uri mpoint frame
		System.out.println(mp.time().toGeoString());//spatial-temporal-----spatial
		
		//System.out.println(mv.slice((Polygon) mv.snapshot(1481480632123l)).toGeoString());
		//System.out.println(mv.atomize(1000).toGeoString());
		//MVideo mv1 = (MVideo)reader.read(s);
		
		//System.out.println(mv1.slice(pol).toGeoString());
		//System.out.println((MVideo)reader.read(s).toString());
		//System.out.println(TemporalOP.M_Slice(mv1.toGeoString(), "Period (1503828255000, 1503828258000)", "POLYGON ((-73 41, -74 41, -74 40, -73 41))"));
	//	System.out.println(ColumnsProjection.MVideoUri(s));
		}
}